/// 블로그 게시글 정보를 저장하는 테이블
model Article {
  id String @id @default(uuid())

  /// 게시글 제목
  title String

  /// 게시글 URL 경로
  slug String

  /// 게시글 본문 내용
  content String

  /// 시리즈 ID
  seriesId String @map("series_id")

  /// 조회수
  viewCount Int @map("view_count")

  /// 읽기 시간
  readMinute Int @map("read_minute")

  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz

  series   Series           @relation(fields: [seriesId], references: [id])
  tags     ArticleTag[]
  comments ArticleComment[]

  @@map("article")
}

/// 게시글 수정 이력을 저장하는 테이블
model ArticleHistory {
  id String @id @default(uuid())

  /// 원본 게시글 ID
  articleId String

  /// 수정 시점의 게시글 제목
  title String

  /// 수정 시점의 게시글 본문 내용
  content   String
  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz

  @@map("article_history")
}
